include ../MakeRules.mk
include ../MakeNames.mk

EXEC_DIR=../src
INC_DIR=-I$(EXEC_DIR)

OUTPUTS+= bnf_sample.c

###############################################################################
# Global targets
###############################################################################
all : $(OUTPUTS)

clean :
	rm -f $(EXEC_TEST)
	rm -f $(OUTPUTS)

###############################################################################
# Rules
###############################################################################
%.c : %.bnf2c.c $(EXEC_DIR)/$(EXEC_BNF2C)
	@echo "[BNF2C] $@"
	@$(EXEC_DIR)/$(EXEC_BNF2C) $^ > $@

###############################################################################
# Targets
###############################################################################
$(EXEC_DIR)/$(EXEC_BNF2C) :
	@(cd $(EXEC_DIR); $(MAKE))